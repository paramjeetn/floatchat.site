{
  "Show me salinity profiles near the equator in March 2023": {
    "response": "**Equatorial Salinity Profiles - March 2023**\n\nRetrieved **2,847 profiles** from ARGO floats operating near the equator (5°S - 5°N) during March 2023. Analysis reveals interesting salinity structure:\n\n📊 **Key Findings:**\n• **Surface Salinity:** 34.2-35.1 PSU (relatively fresh due to equatorial precipitation)\n• **Salinity Maximum:** 35.4-35.6 PSU at ~120-150m depth (subtropical subsurface water intrusion)\n• **Deep Salinity:** Stabilizes at ~34.7 PSU below 500m\n• **Quality Control:** 94.3% of profiles passed QC flags ('1' or '2')\n\n🌊 **Data Sources:**\n• **Active Floats:** 23 floats contributed data (WMO platforms: 2902746, 2902812, 2902845)\n• **Profile Types:** Primarily ascending profiles (direction='A') in delayed-mode (data_mode='D')\n• **Institutions:** INCOIS (India), CSIRO (Australia), NOAA (USA)",
    "suggestions": [
      "Compare BGC parameters in the Arabian Sea for the last 6 months",
      "What are the nearest ARGO floats to this location?",
      "Show temperature-depth profiles from WMO platform 2902746",
      "Show data quality trends across all floats"
    ],
    "chartType": "depth-profile",
    "chartData": [
      { "depth": 0, "salinity": 34.6 },
      { "depth": 50, "salinity": 34.8 },
      { "depth": 100, "salinity": 35.2 },
      { "depth": 150, "salinity": 35.5 },
      { "depth": 200, "salinity": 35.4 },
      { "depth": 300, "salinity": 35.2 },
      { "depth": 400, "salinity": 35.0 },
      { "depth": 500, "salinity": 34.8 },
      { "depth": 700, "salinity": 34.7 },
      { "depth": 1000, "salinity": 34.7 },
      { "depth": 1500, "salinity": 34.7 },
      { "depth": 2000, "salinity": 34.7 }
    ],
    "agentParams": {
      "queryType": "vertical_profile_retrieval",
      "parameter": "salinity",
      "region": "equatorial Indian Ocean",
      "timeRange": "March 2023",
      "visualizationRequirement": "depth-profile chart"
    },
    "sqlQuery": "WITH equatorial_profiles AS (\n  SELECT p.profile_id, p.platform_number\n  FROM profiles p\n  INNER JOIN file_metadata fm ON p.file_id = fm.file_id\n  WHERE p.latitude BETWEEN -5.0 AND 5.0\n    AND EXTRACT(YEAR FROM p.date_creation) = 2023\n    AND EXTRACT(MONTH FROM p.date_creation) = 3\n)\nSELECT\n  ROUND(m.pres_adjusted / 50) * 50 as depth_bin,\n  AVG(COALESCE(m.psal_adjusted, m.psal)) as mean_salinity\nFROM equatorial_profiles ep\nINNER JOIN measurements m ON ep.profile_id = m.profile_id\nWHERE m.psal_adjusted_qc IN ('1', '2')\nGROUP BY depth_bin\nORDER BY depth_bin;",
    "processingStats": {
      "profiles": 2847,
      "measurements": 312574,
      "qcPassRate": 0.943,
      "processingDetails": "Computing vertical binning (50m intervals) for depth profile visualization."
    }
  },

  "Compare BGC parameters in the Arabian Sea for the last 6 months": {
    "response": "**BGC-Argo Analysis - Arabian Sea (Last 6 Months)**\n\nAnalyzed **1,247 Bio-Geo-Chemical profiles** from BGC-Argo floats in the Arabian Sea (55°E-75°E, 10°N-25°N) covering October 2024 - March 2025:\n\n📊 **BGC Parameters Analyzed:**\n• **Dissolved Oxygen (DOXY):** Mean 4.2 mL/L at surface, <0.5 mL/L in OMZ core (200-400m)\n• **Chlorophyll-a (CHLA):** Surface mean 0.38 mg/m³, winter bloom reached 1.2 mg/m³\n• **Nitrate (NITRATE):** <1 μmol/kg at surface, 20-35 μmol/kg in subsurface\n\n🌊 **Seasonal Patterns:**\nWinter monsoon (Dec-Feb) shows enhanced biological productivity with deep mixing bringing nutrients to surface. Data from 12 BGC floats (WMO: 2903282, 2903311, 2903355).",
    "suggestions": [
      "Show me salinity profiles near the equator in March 2023",
      "Plot chlorophyll-a vertical distribution for winter months",
      "Analyze oxygen minimum zone extent",
      "Show seasonal productivity patterns"
    ],
    "chartType": "time-series",
    "chartData": [
      { "month": "Oct", "oxygen": 4.5, "chlorophyll": 0.28 },
      { "month": "Nov", "oxygen": 4.6, "chlorophyll": 0.32 },
      { "month": "Dec", "oxygen": 4.8, "chlorophyll": 0.58 },
      { "month": "Jan", "oxygen": 4.9, "chlorophyll": 1.12 },
      { "month": "Feb", "oxygen": 4.7, "chlorophyll": 0.89 },
      { "month": "Mar", "oxygen": 4.3, "chlorophyll": 0.35 }
    ],
    "agentParams": {
      "queryType": "temporal_comparative_bgc_analysis",
      "parameter": "BGC multi-parameter",
      "region": "Arabian Sea",
      "timeRange": "last 6 months",
      "visualizationRequirement": "multi-parameter time-series"
    },
    "sqlQuery": "WITH bgc_profiles AS (\n  SELECT p.profile_id, DATE_TRUNC('month', p.date_creation) as month\n  FROM profiles p\n  INNER JOIN file_metadata fm ON p.file_id = fm.file_id\n  WHERE p.latitude BETWEEN 10 AND 25\n    AND p.longitude BETWEEN 55 AND 75\n    AND p.date_creation >= CURRENT_DATE - INTERVAL '6 months'\n    AND fm.data_type = 'BGC_FLOAT'\n)\nSELECT\n  TO_CHAR(month, 'Mon') as month_name,\n  AVG(CASE WHEN m.pres_adjusted < 10 THEN m.doxy END) as surface_oxygen,\n  AVG(CASE WHEN m.pres_adjusted < 10 THEN m.chla END) as surface_chlorophyll\nFROM bgc_profiles bp\nINNER JOIN measurements m ON bp.profile_id = m.profile_id\nGROUP BY month;",
    "processingStats": {
      "profiles": 1247,
      "measurements": 187321,
      "qcPassRate": 0.893,
      "processingDetails": "Applying BGC sensor-specific QC: OPTODE oxygen drift correction, MCOMS chlorophyll NPQ correction."
    }
  },

  "What are the nearest ARGO floats to this location?": {
    "response": "**Nearest ARGO Floats - Central Equatorial Indian Ocean**\n\nPerforming geospatial proximity search near the equator. Found **8 active floats** within 300 km radius:\n\n📍 **Closest Floats:**\n1. **WMO 2902746** - Distance: 87 km | Last profile: 2 days ago\n   - Position: 0.78°N, 80.23°E | Cycle: 234 | Mode: Delayed | INCOIS\n\n2. **WMO 2902812** - Distance: 134 km | Last profile: 5 days ago\n   - Position: 0.15°S, 79.67°E | Cycle: 189 | Mode: Real-time | CSIRO\n\n3. **WMO 2902891** - Distance: 198 km | Last profile: 3 days ago\n   - Position: 1.45°N, 81.12°E | Cycle: 156 | Mode: Delayed | NOAA\n\n🔄 **Float Network Details:**\n• **Coverage density:** 0.8 floats per 100,000 km²\n• **Positioning system:** GPS (all 8 floats)\n• **Profile frequency:** 10-day cycles",
    "suggestions": [
      "Show temperature-depth profiles from WMO platform 2902746",
      "Track float trajectory for WMO 2902812 over last 3 months",
      "Compare salinity measurements from multiple floats",
      "Show me salinity profiles near the equator in March 2023"
    ],
    "chartType": "none",
    "chartData": null,
    "agentParams": {
      "queryType": "geospatial_proximity_search",
      "region": "equatorial Indian Ocean",
      "visualizationRequirement": "none"
    },
    "sqlQuery": "WITH latest_profiles AS (\n  SELECT p.*, ROW_NUMBER() OVER (\n    PARTITION BY platform_number ORDER BY juld DESC\n  ) as rn\n  FROM profiles p\n  WHERE DATE(date_creation) >= CURRENT_DATE - 30\n)\nSELECT platform_number, latitude, longitude,\n  ROUND(ST_Distance_Sphere(\n    ST_MakePoint(longitude, latitude),\n    ST_MakePoint(80.0, 0.0)\n  ) / 1000, 1) as distance_km\nFROM latest_profiles\nWHERE rn = 1\nHAVING distance_km <= 300\nORDER BY distance_km;",
    "processingStats": {
      "profiles": 8,
      "qcPassRate": 1.0,
      "processingDetails": "Computing great-circle distances using Haversine formula. All floats operational."
    }
  },

  "Show temperature-depth profiles from WMO platform 2902746": {
    "response": "**Temperature Depth Profile - WMO Float 2902746**\n\nRetrieved **234 profiles** from ARGO float 2902746 deployed by INCOIS in the equatorial Indian Ocean:\n\n📊 **Profile Characteristics:**\n• **Latest Profile:** Cycle 234, collected 2 days ago at 0.78°N, 80.23°E\n• **Profile Depth:** 0-1987 meters (full water column sampling)\n• **Temperature Range:** 28.9°C (surface) to 2.1°C (2000m)\n• **Data Mode:** Delayed-mode with full QC (highest quality)\n\n🌡️ **Vertical Structure:**\n• **Mixed Layer:** 0-45m, temperature ~28.5-28.9°C\n• **Thermocline:** Sharp gradient 50-200m, drops from 28°C to 15°C\n• **Deep Ocean:** Below 500m, cold stable water mass ~4-8°C",
    "suggestions": [
      "Compare with nearby float WMO 2902812 temperatures",
      "Show salinity profile for the same platform",
      "Track this float's drift trajectory over time",
      "Analyze thermocline depth variations"
    ],
    "chartType": "depth-profile",
    "chartData": [
      { "depth": 0, "temperature": 28.9 },
      { "depth": 10, "temperature": 28.8 },
      { "depth": 30, "temperature": 28.7 },
      { "depth": 50, "temperature": 27.8 },
      { "depth": 75, "temperature": 24.2 },
      { "depth": 100, "temperature": 20.1 },
      { "depth": 150, "temperature": 15.3 },
      { "depth": 200, "temperature": 12.8 },
      { "depth": 300, "temperature": 10.2 },
      { "depth": 500, "temperature": 7.8 },
      { "depth": 750, "temperature": 5.4 },
      { "depth": 1000, "temperature": 4.1 },
      { "depth": 1500, "temperature": 2.8 },
      { "depth": 2000, "temperature": 2.1 }
    ],
    "agentParams": {
      "queryType": "single_platform_depth_profile",
      "parameter": "temperature",
      "region": "WMO 2902746",
      "visualizationRequirement": "temperature depth-profile"
    },
    "sqlQuery": "WITH float_2902746_latest AS (\n  SELECT profile_id\n  FROM profiles\n  WHERE platform_number = '2902746'\n  ORDER BY juld DESC LIMIT 1\n)\nSELECT\n  m.pres_adjusted as depth,\n  COALESCE(m.temp_adjusted, m.temp) as temperature\nFROM float_2902746_latest f\nINNER JOIN measurements m ON f.profile_id = m.profile_id\nWHERE m.temp_adjusted_qc IN ('1', '2')\nORDER BY m.pres_adjusted;",
    "processingStats": {
      "profiles": 234,
      "measurements": 146,
      "qcPassRate": 1.0,
      "processingDetails": "All measurements passed QC. Mixed layer depth identified at 45m."
    }
  },

  "Track float trajectory for WMO 2902812 over last 3 months": {
    "response": "**Float Trajectory Analysis - WMO 2902812 (Last 3 Months)**\n\nTracking autonomous drift pattern for ARGO float 2902812 from January 2025 - March 2025:\n\n🗺️ **Trajectory Summary:**\n• **Start Position (Jan 1):** 0.15°S, 79.67°E\n• **End Position (Mar 31):** 2.34°N, 82.89°E\n• **Total Drift Distance:** 487 km over 90 days\n• **Mean Drift Speed:** 5.4 km/day\n\n🌊 **Drift Pattern:**\n• **Direction:** Predominantly northeast (bearing: 42°)\n• **Driving Current:** Equatorial Counter Current\n• **Cycle Frequency:** 10-day profiling cycles (9 profiles collected)",
    "suggestions": [
      "Show temperature evolution along this float's path",
      "Compare drift with float WMO 2902746 in same period",
      "Analyze salinity changes during drift",
      "Predict future float position based on currents"
    ],
    "chartType": "trajectory",
    "chartData": [
      { "date": "Jan 1", "latitude": -0.15, "longitude": 79.67 },
      { "date": "Jan 11", "latitude": -0.28, "longitude": 80.12 },
      { "date": "Jan 21", "latitude": 0.45, "longitude": 80.67 },
      { "date": "Feb 1", "latitude": 0.78, "longitude": 81.23 },
      { "date": "Feb 11", "latitude": 1.12, "longitude": 81.78 },
      { "date": "Feb 21", "latitude": 1.45, "longitude": 82.01 },
      { "date": "Mar 3", "latitude": 1.78, "longitude": 82.34 },
      { "date": "Mar 13", "latitude": 2.01, "longitude": 82.56 },
      { "date": "Mar 23", "latitude": 2.34, "longitude": 82.89 }
    ],
    "agentParams": {
      "queryType": "float_trajectory_tracking",
      "parameter": "position",
      "region": "WMO 2902812",
      "timeRange": "last 3 months",
      "visualizationRequirement": "trajectory time-series"
    },
    "sqlQuery": "SELECT\n  DATE(date_creation) as profile_date,\n  latitude, longitude\nFROM profiles\nWHERE platform_number = '2902812'\n  AND date_creation >= CURRENT_DATE - INTERVAL '3 months'\n  AND position_qc IN ('1', '2')\nORDER BY cycle_number;",
    "processingStats": {
      "profiles": 9,
      "qcPassRate": 1.0,
      "processingDetails": "Computing drift vectors between consecutive profiles. Mean drift: 5.4 km/day northeast."
    }
  },

  "Plot chlorophyll-a vertical distribution for winter months": {
    "response": "**Chlorophyll-a Vertical Profile - Winter Season (Dec-Feb)**\n\nAnalyzed **523 BGC-Argo profiles** from Arabian Sea during winter monsoon period:\n\n📊 **Chlorophyll Distribution:**\n• **Surface Maximum:** 1.18 mg/m³ at 5-15m depth (winter bloom peak)\n• **Euphotic Zone:** 0.62 mg/m³ average in upper 100m\n• **Deep Chlorophyll Maximum (DCM):** 0.45 mg/m³ at 45-65m depth\n• **Below Euphotic:** <0.05 mg/m³ below 150m\n\n🌊 **Winter Bloom Characteristics:**\n• **Trigger:** Northeast monsoon deep convection brings nutrients to surface\n• **Magnitude:** 4x increase compared to summer minimum",
    "suggestions": [
      "Compare with summer chlorophyll levels",
      "Show nitrate vertical distribution during bloom",
      "Analyze dissolved oxygen response to bloom",
      "Track float movements during bloom period"
    ],
    "chartType": "depth-profile",
    "chartData": [
      { "depth": 0, "chlorophyll": 0.98 },
      { "depth": 10, "chlorophyll": 1.18 },
      { "depth": 20, "chlorophyll": 1.05 },
      { "depth": 30, "chlorophyll": 0.82 },
      { "depth": 40, "chlorophyll": 0.58 },
      { "depth": 50, "chlorophyll": 0.45 },
      { "depth": 60, "chlorophyll": 0.38 },
      { "depth": 80, "chlorophyll": 0.22 },
      { "depth": 100, "chlorophyll": 0.12 },
      { "depth": 120, "chlorophyll": 0.06 },
      { "depth": 150, "chlorophyll": 0.03 },
      { "depth": 200, "chlorophyll": 0.01 }
    ],
    "agentParams": {
      "queryType": "seasonal_bgc_depth_profile",
      "parameter": "chlorophyll-a",
      "region": "Arabian Sea",
      "timeRange": "winter Dec-Feb",
      "visualizationRequirement": "chlorophyll depth-profile"
    },
    "sqlQuery": "WITH winter_bgc AS (\n  SELECT p.profile_id\n  FROM profiles p\n  INNER JOIN file_metadata fm ON p.file_id = fm.file_id\n  WHERE EXTRACT(MONTH FROM p.date_creation) IN (12, 1, 2)\n    AND fm.data_type = 'BGC_FLOAT'\n)\nSELECT\n  ROUND(m.pres_adjusted / 10) * 10 as depth_bin,\n  AVG(m.chla) as mean_chlorophyll\nFROM winter_bgc wb\nINNER JOIN measurements m ON wb.profile_id = m.profile_id\nWHERE m.chla_qc IN ('1', '2')\nGROUP BY depth_bin;",
    "processingStats": {
      "profiles": 523,
      "qcPassRate": 0.981,
      "processingDetails": "MCOMS fluorescence sensor data with NPQ correction applied. Surface bloom and DCM detected."
    }
  }
}